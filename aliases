# Aliases
#
# add to ~./bashrc:
#
# if [ -f ~/.aliases ]; then
#    . ~/.aliases
# fi
#
# then execute:
#
# source ~./bashrc
# or . ~./bashrc
#

# Directory aliases

alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias ~='cd ~'
alias cdh='cd ~/'
alias cddocs='cd ~/Documents/'
alias cddownloads='cd ~/Downloads/'
alias cdgo='cd ~/go/'
alias cdd='cd ~/Downloads/'
alias cddb='cd ~/Dropbox/'
alias cddev='cd ~/Development/'
alias cddesktop='cd ~/Desktop'
alias cdsandbox='cd ~/Sandbox'
alias cds='cd ~/Sandbox'
alias cdusrlogs='cd /usr/local/var/log'
alias cdvim='cd ~/.vim'
alias cdwiki='cd ~/.vimwiki'
alias cdwikihtml='cd ~/.vimwiki_html'
alias cddot='cd ~/Dropbox/dotfiles'
alias cdprezto='cd ~/.zprezto'
alias cdmux='cd ~/.tmuxinator'
alias cdtmux='cd ~/.tmux'
alias cdtrash='cd ~/.Trash/'
alias filetree="ls -R | grep ":$" | sed -e 's/:$//' -e 's/[^-][^\/]*\//--/g' -e 's/^/ /' -e 's/-/|/'"

# Directory listing aliases

alias ls='ls'
alias lsa='ls -al'
alias lshidden='ls -ld .??*'
alias l='ls -lah'
alias ll='tree --dirsfirst -ChFupDaLg 1'
alias df='df -h'
alias disksize='df -h'
alias dirsize='du -sh * | sort -n'
alias dirsize2='du -bsh .'
alias topmem='top -o mem'
alias topcpu='top -o cpu'
alias diskusage='sudo iotop'
alias prettydiskusage='ncdu'
alias psmem='ps aux | sort -rn -k 6'
alias lsperm=octalPerms

# Search aliases

alias g='GREP_COLOR="1;37;45" LANG=C grep --color=auto'
alias egrep='grep --color=always'
alias grep='grep --color=always'
alias a='ack -iR'
alias xml='xmllint --format -'
alias prettyxml='xmllint --format - | pygmentize -l xml | less -R'
alias json='python -m json.tool'
alias prettyjson='python -m json.tool'
alias gs='grep -nrHoEali'
alias gsl='grep -nrHEai'
alias gsc=grep_search_count
alias fs=fileSearch
alias sr=search_replace

# Sass aliases

alias watchcss='sass --watch css:css --style compressed'

# Vim aliases

# Check if on mac
alias vim=vim
alias v='vim'
alias vp='vim -p'
alias vimaliases='vim ~/.aliases'
alias vimaliaseslocal='vim ~/.aliases.local'
alias vimbashaliases='vim ~/.bash_aliases'
alias vimbashrc='vim ~/.bashrc'
alias vimvimrc='vim ~/.vimrc'
alias vimtmux='vim ~/.tmux.conf'
alias viminstall='vim +PlugInstall'
alias vimclean='vim +PlugClean'
alias vimupdate='vim +PlugUpdate'
alias wiki='cd ~/vimwiki && vim ~/vimwiki/'

# Emacs aliases
alias emacs='/usr/local/Cellar/emacs/25.1/bin/emacs'
alias e='emacs'

# Tmux aliases

alias tmux='tmux -2' # force 256 color
alias muxkill='tmux kill-session -t'
alias tmuxkill='muxkill'
alias tmuxkillall="tx ls | awk '{print $1}' | sed 's/://g' | xargs -I{} tmux kill-session -t {}"
alias muxkillall='tmuxkillall'
alias muxat='tmux attach -t'
alias tmuxat='muxat'
alias muxls='tmux list-sessions'
alias tmuxls='muxls'
alias rtmux='tmux source-file ~/.tmux.conf'
alias muxnew='tmux new -s'
alias muxrotate=tmux_rotate

# Curl aliases

alias curlt='curl -o /dev/null -s -w %{time_total}\\n'
alias curljson=curl_json_pretty_print # Ex. curljson <url>
alias curlheaders=headers # curlheaders <url>

# Git aliases

alias g='git'
alias gc='git clone'
alias gita='git add .'
alias gitc='git commit -m'
alias gitp='git push'
alias ga='git add .'
alias gm='git commit -m '
alias gam='git add . && git commit -m '
alias gamp=git_add_commit_push # Ex. gmp "my commit"
alias gp='git push'
alias gch='git checkout '
alias gme='git merge '
alias gchanged='git whatchanged -n 1'
alias gtag="git tag -a"
alias gtagd="git tag -d"
alias gtagdr="git push origin :refs/tags/"
alias gtagp="git push origin refs/tags/"
alias gitpushtags="git push origin --tags"
alias gitsub='git submodule update --init --recursive'
alias gitdiffrev='git diff-tree --no-commit-id --name-status -r ' # gitdiff <revision>
alias gitdiff='git diff --cached'
alias gcherrypick='git cherry-pick' # gcherrypick <commit hash>
alias grebasei='git rebase -i HEAD~' # grebasei <number>
alias gfilescommitted='git diff-tree --no-commit-id --name-only -r' # gfilescommitted <revision>
alias gitlastrev='git rev-parse HEAD'
alias gitflow='git-flow'
alias gitf='git-flow'
alias giteditor='git config --global core.editor' # gitseteditor vim

# Network aliases

#alias ip=ip
alias publicip="curl -s http://checkip.dyndns.com/ | sed 's/[^0-9\.]//g'"
alias gateway='route -n get default | grep gateway | rev | cut -d: -f -1 | rev'
alias nameservers='scutil --dns | grep 'nameserver\[[0-9]*\]''
alias scan='sudo nmap -sn `ip | rev | cut -d. -f 2- | rev`.0/24'
alias scanV='sudo nmap -v -A `ip | rev | cut -d. -f 2- | rev`.0/24'
alias scanhost='sudo nmap -O -v -sV' # ip
alias scanports='sudo nmap -p 1-65535 -T4 -A -v'
alias portopen='nmap 192.168.0.1 -Pn -p 9000' # check if port is open
alias scannet='arp -a' # show IPs and MACs
alias arpflush='arp -d -a'
alias macs='sudo arp-scan -l'
alias ngrep_get="ngrep -W byline -qilw 'get' tcp dst port 80"
alias tcpflow80="sudo tcpflow -p -c -i en0 port 80 | grep -oE '(GET|POST|HEAD) .* HTTP/1.[01]|Host: .*'"
alias http80='sudo httpry -i en0'
alias dnslookup='nslookup -type=soa'
alias flushdns='sudo killall -HUP mDNSResponder'
alias portping='sudo nping --tcp -p <port> <host>'

# Server aliases

#alias server=server # Ex. server 3000
alias mysqlstart='mysql.server restart'
alias rsap='sudo apache2ctl restart'

# System aliases

alias lsp=listPortProcceses # Ex. lsp 3000
alias loadavg=loadAverage
alias fw='lsof -p 1 -r 10'
alias cputop='ps -eo pcpu,pid,user,args | sort -k 1 -r | head -11'
alias unixmemtop='ps -eo pmem,pcpu,vsize,pid,cmd | sort -k 1 -nr | head -10';
alias vmstat='vm_stat'

# Docker aliases

alias dockerstop='docker stop $(docker ps -a -q)'
alias dockerrm='docker rm -f $(docker ps -aq)'
alias dockerrmi='docker rmi -f $(docker images -aq)'
#alias dockerd='docker-machine start default;docker-machine regenerate-certs default;eval "$(docker-machine env default)";'
alias dockerd='echo "use docker app"'
alias dockerip='docker-machine ip'
alias dockerrestart='docker-machine restart default && eval "$(docker-machine env default)"'
alias dockert='eval "$(docker-machine env default)"' # load docker for new terminal tab
alias containerport="docker inspect --format '{{ (index (index .NetworkSettings.Ports \"3333/tcp\") 0).HostPort }}'"
alias dockercmd='docker inspect --format="{{.Config.Cmd}}"'
alias dockerpslast='docker ps -q -l'
alias dockerprune='docker system prune -a -f'

# Node/NPM
alias npmupdate="npm outdated --depth=0 | grep -v Package | awk '{print $1}' | xargs -I% npm install %@latest --save"

# Utils
alias width=image_width
alias height=image_height
#alias confirm=confirm
#alias digga=digga
#alias copy=copy
#alias paste=paste
alias epoch2date='date -r'
alias speedtest='speedtest-cli'
alias since_epoch='date +%s'
alias untar='tar -zxvf'

# Shortcut aliases

alias sb='. ~/.bashrc'
alias rsb='. ~/.bashrc'
alias rsbp='. ~/.bashrc_profile'
alias rsp='. ~/.profile'
alias rsz='. ~/.zshrc'
alias rm='rm -r'
alias c='clear'
alias cls='clear'
alias h='history'
alias s3='s3cmd'
alias webstorm='open -b com.jetbrains.webstorm'
alias imgm='imagemin'
alias sprite='spritemapper'
alias jtest='jasmine-node'
alias phan='phantomjs'
alias f='fortune'
alias bs='browser-sync start --server'
alias volume=volume
alias extract=extract
alias irc='irssi'
alias inkscape=open_inkscape
alias gcal='gcalcli'
alias define='dict'
alias macversion='sw_vers'
alias vtop='vtop --theme monokai' # npm install -g vtop
alias activity='glances' # pip install glances
alias web='w3m google.com'
alias base64encode=base64_encode
alias base64decode=base64_decode
alias ferment='brew up && brew upgrade --all'
alias subl=openSublime
alias usebash='chsh -s /bin/bash'
alias usezsh='chsh -s /bin/zsh'
alias killregex=kill_regex
alias reddit='cortex'
alias hn='pyhn'
alias python='python3'
alias pip='pip3'
alias pipir='pip install -U -r requirements.txt'
alias populus='~/Library/Python/2.7/bin/populus'
alias mkdp='mkdir -p'
alias mkdirg=mkdir_g
#alias openp=openp
alias cp='cp -r'
alias cpg=cp_g
alias mvg=mv_g
alias cp_p=cp_p
alias phpserver='php -S 0.0.0.0:8080'
alias resize=resize
alias sha3=sha3
alias vlc='/Applications/VLC.app/Contents/MacOS/VLC'
alias screenshot='screencapture -x out.png'
alias digzonetransfer='dig -t axfr @<dns or parent> <domain> -p <dns port>'
alias digall='dig +nocmd any +multiline +answer'
alias soma='somafm play'
alias ff='fzf'
alias how='howdoi'
alias vimf='vim $(fzf)'
alias gocover='go test -coverprofile=coverage.out'
alias sha256file='openssl sha -sha256'
alias svg2png='rsvg-convert'
#alias electrum='/Applications/Electrum.app/Contents/MacOS/Electrum'
alias shodan_history='shodan host --history'
alias bashlint='shellcheck'
alias cat='bat'
alias ci='circleci'

# https://github.com/rtyley/bfg-repo-cleaner
# example
alias gitdeletecommitfile='bfg --delete-files id_{dsa,rsa}  my-repo.git'
#alias sed='commandExists gsed && gsed || sed'

# Misc aliases

alias shorten="PS1='\u:\W\$ '"
alias starwars='telnet towel.blinkenlights.nl'
alias matrix='cmatrix'
alias train='sl'
alias weatherwego='wego -units imperial'
alias wttr='curl -s wttr.in/Santa+Monica,CA?u'
alias ngrok8000='ngrok http 8000'
alias cols='tput cols'
alias rows='tput lines'
# example: go test -v | gopretty
alias gopretty='tee >(richgo testfilter)'

if [ -f ~/.aliases.local ]; then
  . ~/.aliases.local
fi
